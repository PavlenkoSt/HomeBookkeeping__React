(this.webpackJsonpcrm=this.webpackJsonpcrm||[]).push([[0],{111:function(e,t,n){e.exports={income:"Journaltem_income__3tOE1",outcome:"Journaltem_outcome___6kti",incomeBtn:"Journaltem_incomeBtn__2Vucr",outcomeBtn:"Journaltem_outcomeBtn__PoCmD"}},112:function(e,t,n){e.exports={general:"GeneralSum_general__22KEA",sum:"GeneralSum_sum__2_Nzs",plus:"GeneralSum_plus__MRC3y",minus:"GeneralSum_minus__3IAD4"}},115:function(e,t,n){e.exports={form:"AddForm_form__1ragg",btn:"AddForm_btn__3HkoJ",btnPlus:"AddForm_btnPlus__1zO4D",btnMinus:"AddForm_btnMinus__h7iwI"}},134:function(e,t,n){e.exports={nav:"Item_nav__3hXn5",link:"Item_link__Ovqmg",active:"Item_active__3tKuo"}},136:function(e,t,n){e.exports={formControls:"FormControl_formControls__36Su_",error:"FormControl_error__rpxW3",errorMessage:"FormControl_errorMessage__3f8Dv",errorForm:"FormControl_errorForm__3Etv3"}},164:function(e,t,n){e.exports={noRecords:"Journal_noRecords__sIUko",tableJournal:"Journal_tableJournal__2aIzo"}},165:function(e,t,n){e.exports={container:"Reports_container__2QOg8",main:"Reports_main__Sj5Sg"}},169:function(e,t,n){e.exports={container:"Add_container__3jjOD",date:"Add_date__2gKqf"}},171:function(e,t,n){e.exports={container:"Planning_container__Y3Dey",noPlans:"Planning_noPlans__3vIM2"}},172:function(e,t,n){e.exports={container:"Limits_container__4OU3k",noLimits:"Limits_noLimits__2sJbD"}},221:function(e,t,n){e.exports={selectContainer:"Select_selectContainer__fbk1t"}},223:function(e,t,n){e.exports={table:"ReportsInfo_table__20wAE"}},224:function(e,t,n){e.exports={noRecords:"Chart_noRecords__tDAD7"}},26:function(e,t,n){e.exports={form:"AddPlanForm_form__3bUY6",inputsGroup:"AddPlanForm_inputsGroup__oDUOu",label:"AddPlanForm_label__1k0i8",span:"AddPlanForm_span__1LwJF",input:"AddPlanForm_input__1AE9y",submit:"AddPlanForm_submit__3yNso"}},281:function(e,t,n){},338:function(e,t,n){},40:function(e,t,n){e.exports={label:"FieldCreator_label__2X2st",span:"FieldCreator_span__2HnvZ",input:"FieldCreator_input__2ChlB",set:"FieldCreator_set__1Ypoz",setMinus:"FieldCreator_setMinus__1T506",setPlus:"FieldCreator_setPlus__wH8fu",disabled:"FieldCreator_disabled__2NJBo",none:"FieldCreator_none__Snfyl"}},41:function(e,t,n){e.exports={item:"LimitItem_item__3o2sk",category:"LimitItem_category__s37hu",days:"LimitItem_days__3tf-9",progress:"LimitItem_progress__3Tap-",line:"LimitItem_line__1sqsL",subline:"LimitItem_subline__2gmmB",orange:"LimitItem_orange__2Oocf",red:"LimitItem_red__2jOhZ",limit:"LimitItem_limit__raX8Y",removeBtn:"LimitItem_removeBtn__3A6zC",alert:"LimitItem_alert__3lxgK"}},426:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(49),s=n.n(r),i=(n(281),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,437)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),o=n(59),l=n(25),u=n(219),d=n(56),j=n(10),b="CHANGE_ADD_MODE",m="INCOME_TO_BILL",O="OUTCOM_FROM_BILL",_="SET_NEW_TRANSACTION",h="DELETE_TRANSACTION",f="SYNHRONIZED_HISTORY_TRANSACTION_FROM_LOCAL_STORAGE",x="SYNHRONIZED_BILL_FROM_LOCAL_STORAGE",p="CHANGE_BILL",v="CHANGE_LOAD_STATUS",g=function(e){return{type:m,sum:e}},N=function(e){return{type:O,sum:e}},y=function(e){return{type:b,addModePlus:e}},E={bill:0,addModePlus:!0,historyTransactions:[],load:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{addModePlus:t.addModePlus});case _:return Object(j.a)(Object(j.a)({},e),{},{historyTransactions:[].concat(Object(d.a)(e.historyTransactions),[t.transactionItem])});case h:return Object(j.a)(Object(j.a)({},e),{},{historyTransactions:e.historyTransactions.filter((function(e){return e.id!==t.id}))});case f:return Object(j.a)(Object(j.a)({},e),{},{historyTransactions:t.history});case x:return Object(j.a)(Object(j.a)({},e),{},{bill:t.bill});case m:return Object(j.a)(Object(j.a)({},e),{},{bill:+e.bill+ +t.sum});case O:return Object(j.a)(Object(j.a)({},e),{},{bill:+e.bill-+t.sum});case p:return Object(j.a)(Object(j.a)({},e),{},{bill:t.bill});case v:return Object(j.a)(Object(j.a)({},e),{},{load:t.load});default:return e}},A="CHANGE_REDIRECT_PATH",I="CHANGE_MODAL_MODE",L=function(e){return{type:I,mode:e}},S={paths:[{id:0,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",to:"/add",childLinks:[{id:0,text:"\u0414\u043e\u0445\u043e\u0434",to:"/add/income"},{id:1,text:"\u0420\u0430\u0441\u0445\u043e\u0434",to:"/add/outcome"}]},{id:1,text:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",to:"/statistics",childLinks:[{id:0,text:"\u0416\u0443\u0440\u043d\u0430\u043b",to:"/statistics/journal"},{id:1,text:"\u041e\u0442\u0447\u0435\u0442\u044b",to:"/statistics/reports"}]},{id:2,text:"\u0411\u044e\u0434\u0436\u0435\u0442",to:"/budget",childLinks:[{id:0,text:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",to:"/budget/planning"},{id:1,text:"\u041b\u0438\u043c\u0438\u0442\u044b",to:"/budget/limits"}]}],autoRedirect:[{page:"/add",redirect:"/add/income"},{page:"/statistics",redirect:"/statistics/journal"},{page:"/budget",redirect:"/budget/planning"}],modalMode:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var n=e.autoRedirect.filter((function(e){return e.page===t.page}));return Object(j.a)(Object(j.a)({},e),{},{autoRedirect:[].concat(Object(d.a)(e.autoRedirect),[n[0].redirect=t.path])});case I:return Object(j.a)(Object(j.a)({},e),{},{modalMode:t.mode});default:return e}},D=function(e){return+e<=9&&(e=e[1]),+e},T=function(e,t){var n=new Date,c=t.split("."),a=new Date(c.reverse().join(","));switch(e){case"day":return D(c[2])===n.getDate()&&D(c[1])===n.getMonth()+1&&+c[0]===n.getFullYear();case"week":var r=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7);return n-a<n-r;case"month":var s=new Date(n.getFullYear(),n.getMonth()-1,n.getDate());return n-a<n-s;case"year":var i=new Date(n.getFullYear()-1,n.getMonth(),n.getDate());return n-a<n-i;default:return!1}},F="CHANGE_SHOW_MODE_INCOME",R="CHANGE_SHOW_TIME_MODE",k="SET_FILTERED_TRANSACTIONS",B="SET_ACTIVE_CATEGORY",P="CHANGE_GENERAL_SUM",H=function(e){return{type:k,allTransactions:e}},G={showModeIncome:!0,showTimeMode:"day",filteredItems:[],activeCategory:"",generalSum:0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(j.a)(Object(j.a)({},e),{},{showModeIncome:t.mode});case R:return Object(j.a)(Object(j.a)({},e),{},{showTimeMode:t.mode});case k:var n=t.allTransactions.filter((function(t){return t.type===(e.showModeIncome?"income":"outcome")&&T(e.showTimeMode,t.date)}));return Object(j.a)(Object(j.a)({},e),{},{filteredItems:n});case B:return Object(j.a)(Object(j.a)({},e),{},{activeCategory:t.category});case P:return Object(j.a)(Object(j.a)({},e),{},{generalSum:t.sum});default:return e}},Y="DELETE_PLAN",z="CHANGE_COMPLETED_STATUS",U="ADD_NEW_PLAN",W="SYNHRONIZED_PLANS_FROM_LOCAL_STORAGE",Z="DELETE_LIMIT",q="ADD_NEW_LIMIT",K="SYNHRONIZED_LIMITS_FROM_LOCAL_STORAGE",V={plans:[],limits:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(j.a)(Object(j.a)({},e),{},{plans:e.plans.filter((function(e){return e.id!==t.id}))});case z:return Object(j.a)(Object(j.a)({},e),{},{plans:e.plans.map((function(e){return e.id===t.id&&(e.completed=t.status),e}))});case U:return Object(j.a)(Object(j.a)({},e),{},{plans:[].concat(Object(d.a)(e.plans),[t.plan])});case W:return Object(j.a)(Object(j.a)({},e),{},{plans:t.plans});case Z:return Object(j.a)(Object(j.a)({},e),{},{limits:e.limits.filter((function(e){return e.id!==t.id}))});case q:return Object(j.a)(Object(j.a)({},e),{},{limits:[].concat(Object(d.a)(e.limits),[t.limit])});case K:return Object(j.a)(Object(j.a)({},e),{},{limits:t.limits});default:return e}},Q=Object(l.b)({header:w,bill:C,chart:J,budget:X,form:u.a}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,ee=Object(l.d)(Q,$()),te=n(6),ne=(n(338),n(158)),ce=n.n(ne),ae=n(17),re=n(44),se=n.n(re),ie=function(e){return e.bill.bill},oe=function(e){return e.bill.addModePlus},le=function(e){return e.bill.historyTransactions},ue=function(e){return e.bill.load},de=function(e){return e.header.paths},je=function(e){return e.header.autoRedirect},be=function(e){return e.header.modalMode},me=n(1),Oe=Object(ae.f)((function(e){var t=e.location,n=a.a.createRef(),r=Object(te.c)(),s=Object(te.d)(ie),i=Object(te.d)(de),l=i.map((function(e){var n=t.pathname.match(e.to)?se.a.active:"";return Object(me.jsx)(o.b,{className:"".concat(se.a.link," ").concat(n),to:e.to,children:e.text},e.id)}));function u(){var e=this;e.classList.toggle(se.a.active),e.parentElement.childNodes[1].classList.toggle(se.a.show),e.parentElement.classList.toggle(se.a.marginHeader)}return Object(c.useEffect)((function(){n.current.addEventListener("click",u)}),[]),Object(me.jsxs)("header",{className:se.a.header,children:[Object(me.jsx)("div",{ref:n,className:se.a.burger,children:Object(me.jsx)("div",{className:se.a.line})}),Object(me.jsx)("div",{className:se.a.nav,children:l}),Object(me.jsxs)("div",{className:se.a.bill,onClick:function(){r(L(!0))},children:["\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441:",Object(me.jsx)("div",{className:se.a.cur,children:s+" \u20b4"})]})]})})),_e=n(134),he=n.n(_e),fe=Object(ae.f)((function(e){var t=e.location,n=Object(te.c)(),c=Object(te.d)(de),a=Object(te.d)(je),r=c.filter((function(e){return t.pathname.match(e.to)})),s=r[0].childLinks.map((function(e){var c=t.pathname.match(e.to)?he.a.active:"";return Object(me.jsx)(o.b,{onClick:function(){var t,c;"/add/income"===e.to&&n(y(!0)),"/add/outcome"===e.to&&n(y(!1)),n((t=r[0].to,c=e.to,{type:A,page:t,path:c}))},className:"".concat(he.a.link," ").concat(c),to:e.to,children:e.text},e.id)})),i=r[0].childLinks.filter((function(e){return t.pathname.match(e.to)})),l=a.filter((function(e){return e.page===r[0].to}))[0].redirect;return Object(me.jsxs)("div",{children:[Object(me.jsx)("div",{className:he.a.nav,children:s}),i.length?null:Object(me.jsx)(ae.a,{to:l})]})})),xe=function(){return Object(me.jsxs)("div",{children:[Object(me.jsx)(ae.b,{path:"/add",component:fe}),Object(me.jsx)(ae.b,{path:"/statistics",component:fe}),Object(me.jsx)(ae.b,{path:"/budget",component:fe})]})},pe=n(164),ve=n.n(pe),ge={set:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},get:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}},Ne=n(111),ye=n.n(Ne),Ee=function(e){var t=e.id,n=e.date,c=e.type,a=e.sum,r=e.category,s=e.desc,i=Object(te.c)(),o=Object(te.d)(le);return Object(me.jsxs)("tr",{className:"income"===c?ye.a.income:ye.a.outcome,children:[Object(me.jsx)("td",{children:n}),Object(me.jsx)("td",{children:"income"===c?"\u0414\u043e\u0445\u043e\u0434":"\u0420\u0430\u0441\u0445\u043e\u0434"}),Object(me.jsx)("td",{children:a+" \u20b4"}),Object(me.jsx)("td",{children:r}),Object(me.jsx)("td",{children:s}),Object(me.jsx)("td",{children:Object(me.jsx)("button",{className:"income"===c?ye.a.incomeBtn:ye.a.outcomeBtn,onClick:function(){ge.set("history",o.filter((function(e){return e.id!==t}))),i(function(e){return{type:h,id:e}}(t)),i("income"===c?N(a):g(a)),M.toast({html:"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"})},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},Me=function(){var e=Object(te.d)(le);if(!e.length)return Object(me.jsx)("div",{className:ve.a.noRecords,children:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442."});var t=e.map((function(e){return Object(me.jsx)(Ee,{date:e.date,type:e.type,sum:e.sum,category:e.category,desc:e.desc,id:e.id},e.id)}));return Object(me.jsx)("div",{children:Object(me.jsxs)("table",{className:ve.a.tableJournal,children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:"\u0414\u0430\u0442\u0430"}),Object(me.jsx)("td",{children:"\u0422\u0438\u043f"}),Object(me.jsx)("td",{children:"\u0421\u0443\u043c\u043c\u0430"}),Object(me.jsx)("td",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(me.jsx)("td",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(me.jsx)("td",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),Object(me.jsx)("tbody",{children:t.reverse()})]})})},Ce=n(165),Ae=n.n(Ce),Ie=function(e){return e.chart.showModeIncome},Le=function(e){return e.chart.showTimeMode},Se=function(e){return e.chart.filteredItems},we=function(e){return e.chart.activeCategory},De=function(e){return e.chart.generalSum},Te=n(66),Fe=n.n(Te),Re=function(){var e=Object(te.c)(),t=Object(te.d)(Ie),n=Object(te.d)(le),a=function(t){e({type:F,mode:t})};return Object(c.useEffect)((function(){e(H(n))}),[t]),Object(me.jsxs)("div",{className:Fe.a.btns,children:[Object(me.jsx)("span",{onClick:function(){return a(!0)},className:Fe.a.btn+" "+Fe.a.plus+" "+(t?Fe.a.active:""),children:"\u0414\u043e\u0445\u043e\u0434\u044b"}),Object(me.jsx)("span",{onClick:function(){return a(!1)},className:Fe.a.btn+" "+Fe.a.minus+" "+(t?"":Fe.a.active),children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"})]})},ke=n(221),Be=n.n(ke),Pe=function(){var e=Object(te.c)(),t=Object(te.d)(le),n=Object(te.d)(Le);return Object(c.useEffect)((function(){var e=document.querySelectorAll("select");ce.a.FormSelect.init(e,{})}),[]),Object(c.useEffect)((function(){e(H(t))}),[n]),Object(me.jsx)("div",{className:Be.a.selectContainer,children:Object(me.jsxs)("select",{value:n,onChange:function(n){var c;e((c=n.target.value,{type:R,mode:c})),e(H(t))},children:[Object(me.jsx)("option",{value:"day",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(me.jsx)("option",{value:"week",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(me.jsx)("option",{value:"month",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(me.jsx)("option",{value:"year",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0433\u043e\u0434"})]})})},He=function(){return Object(me.jsxs)("div",{children:[Object(me.jsx)(Re,{}),Object(me.jsx)(Pe,{})]})},Ge=n(222),Je=n(223),Ye=n.n(Je),ze=function(e){var t=e.date,n=e.sum,c=e.desc;return Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:t}),Object(me.jsx)("td",{children:n+" \u20b4"}),Object(me.jsx)("td",{children:c})]})},Ue=function(e){Object(Ge.a)(e);var t=Object(te.d)(Se),n=Object(te.d)(we),c=t.filter((function(e){return e.category===n})).map((function(e){return Object(me.jsx)(ze,{date:e.date,sum:e.sum,desc:e.desc},e.id)}));return c.length?Object(me.jsxs)("table",{className:Ye.a.table,children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:"\u0414\u0430\u0442\u0430"}),Object(me.jsx)("td",{children:"\u0421\u0443\u043c\u043c\u0430"}),Object(me.jsx)("td",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})}),Object(me.jsx)("tbody",{children:c})]}):Object(me.jsx)(me.Fragment,{})},We=n(112),Ze=n.n(We),qe=function(){var e=Object(te.c)(),t=Object(te.d)(De),n=Object(te.d)(Ie),a=Object(te.d)(Se),r=n&&Ze.a.plus||!n&&Ze.a.minus;return Object(c.useEffect)((function(){var t=a.reduce((function(e,t){return e+ +t.sum}),0);e({type:P,sum:t})}),[a]),Object(me.jsxs)("div",{className:"".concat(Ze.a.general," ").concat(r),children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",Object(me.jsx)("span",{className:Ze.a.sum,children:t+" \u20b4"})]})},Ke=n(33),Ve=n(435),Xe=n(243),Qe=n(224),$e=n.n(Qe),et=n(102),tt=function(e){var t=Math.PI/180,n=e.cx,c=e.cy,a=e.midAngle,r=e.innerRadius,s=e.outerRadius,i=e.startAngle,o=e.endAngle,l=e.fill,u=e.payload,d=e.percent,j=e.value,b=Math.sin(-t*a),m=Math.cos(-t*a),O=n+(s+10)*m,_=c+(s+10)*b,h=n+(s+30)*m,f=c+(s+30)*b,x=h+22*(m>=0?1:-1),p=f,v=m>=0?"start":"end";return Object(me.jsxs)("g",{children:[Object(me.jsx)("text",{x:n,y:c,dy:8,textAnchor:"middle",fill:l,children:u.name}),Object(me.jsx)(et.a,{cx:n,cy:c,innerRadius:r,outerRadius:s,startAngle:i,endAngle:o,fill:l}),Object(me.jsx)(et.a,{cx:n,cy:c,startAngle:i,endAngle:o,innerRadius:s+6,outerRadius:s+10,fill:l}),Object(me.jsx)("path",{d:"M".concat(O,",").concat(_,"L").concat(h,",").concat(f,"L").concat(x,",").concat(p),stroke:l,fill:"none"}),Object(me.jsx)("circle",{cx:x,cy:p,r:2,fill:l,stroke:"none"}),Object(me.jsx)("text",{x:x+12*(m>=0?1:-1),y:p,textAnchor:v,fill:"#333",children:"".concat(j," \u20b4")}),Object(me.jsx)("text",{x:x+12*(m>=0?1:-1),y:p,dy:18,textAnchor:v,fill:"#999",children:"(".concat((100*d).toFixed(2),"%)")})]})},nt=function(e){var t=e.data,n=e.fill,a=e.onPieEnter,r=e.activeIndex,s=Object(c.useState)(80),i=Object(Ke.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(100),j=Object(Ke.a)(d,2),b=j[0],m=j[1],O=function(){window.innerWidth<600&&80===l&&100===b?(u(100),m(130)):(u(80),m(100))};return Object(c.useEffect)((function(){return O(),window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}}),[]),t.length?Object(me.jsx)(Ve.a,{width:600,height:400,children:Object(me.jsx)(Xe.a,{activeIndex:r,activeShape:tt,data:t,cx:290,cy:170,innerRadius:l,outerRadius:b,fill:n,dataKey:"value",onMouseEnter:a})}):Object(me.jsxs)("div",{className:$e.a.noRecords,children:["\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440 \u0438\u043b\u0438 ",Object(me.jsx)(o.b,{to:"/add/income",children:"\u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c"}),"."]})},ct=function(){var e=Object(te.c)(),t=Object(te.d)(Se),n=Object(te.d)(Ie),a=Object(c.useState)(0),r=Object(Ke.a)(a,2),s=r[0],i=r[1],o=Object(c.useCallback)((function(e,t){i(t)}),[i]),l=n?"#31a626":"#d40202",u=[];return t.length&&t.forEach((function(e){var t=u.findIndex((function(t){return t.name===e.category}));-1!==t?u[t].value+=+e.sum:u.push({name:e.category,value:+e.sum})})),Object(c.useEffect)((function(){var t;u.length&&(u[s]?e((t=u[s].name,{type:B,category:t})):e(i(0)))}),[s,u]),Object(me.jsx)(nt,{data:u,fill:l,onPieEnter:o,activeIndex:s})},at=function(){return Object(me.jsxs)("div",{className:Ae.a.container,children:[Object(me.jsx)(He,{}),Object(me.jsx)(qe,{}),Object(me.jsxs)("div",{className:Ae.a.main,children:[Object(me.jsx)(ct,{}),Object(me.jsx)(Ue,{})]})]})},rt=function(e){return e<=9?e="0"+e:e},st=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,c=e.getFullYear();return"".concat(rt(t),".").concat(rt(n),".").concat(c)},it=n(169),ot=n.n(it),lt=n(218),ut=n(115),dt=n.n(ut),jt=n(40),bt=n.n(jt),mt=n(244),Ot=n(217),_t=n(136),ht=n.n(_t),ft=function(e){var t=e.meta,n=e.children,c=t.touched&&t.error;return Object(me.jsxs)("div",{className:ht.a.formControls+" "+(c&&ht.a.error),children:[Object(me.jsx)("div",{children:n}),Object(me.jsx)("span",{className:ht.a.errorMessage,children:c&&t.error})]})},xt=function(e){var t=e.input,n=(e.meta,Object(mt.a)(e,["input","meta"]));return Object(me.jsx)(ft,Object(j.a)(Object(j.a)({},e),{},{children:Object(me.jsx)("input",Object(j.a)(Object(j.a)({},t),n))}))},pt=function(e,t,n,c){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text";return Object(me.jsxs)("label",{className:bt.a.label,children:[Object(me.jsx)("span",{className:bt.a.span,children:n}),Object(me.jsx)(Ot.a,{onFocus:function(t){return t.target.labels[0].classList.add(bt.a.set,e?bt.a.setPlus:bt.a.setMinus)},onBlur:function(e){e.target.labels[0].classList.remove(e.target.value?bt.a.none:bt.a.set,bt.a.setPlus,bt.a.setMinus)},className:bt.a.input,component:xt,name:t,type:a,validate:c,autoComplete:"off"})]})},vt=n(37),gt=function(e){return e?void 0:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},Nt=a.a.memo((function(e){var t=e.handleSubmit,n=e.valid,r=a.a.createRef(),s=Object(te.c)(),i=Object(te.d)(oe),o=function(){r.current.childNodes.forEach((function(e,t){if(3===t)return!1;e.classList.remove(bt.a.set)}))};return Object(c.useEffect)((function(){s(Object(vt.a)("add-transaction")),o()}),[i]),Object(me.jsxs)("form",{ref:r,onSubmit:t,className:dt.a.form,children:[pt(i,"sum","\u0421\u0443\u043c\u043c\u0430:",gt,"number"),pt(i,"category","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:",gt,"text"),pt(i,"desc","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",void 0),Object(me.jsx)("input",{onClick:function(){return n?o():null},className:dt.a.btn+" "+(i?dt.a.btnPlus:dt.a.btnMinus),type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),yt=Object(lt.a)({form:"add-transaction"})(Nt),Et=function(){var e=Object(te.c)(),t=Object(te.d)(oe),n=Object(te.d)(le);return Object(c.useEffect)((function(){n.length&&ge.set("history",n)}),[n]),Object(c.useEffect)((function(){e(H(n))}),[n]),Object(me.jsxs)("div",{className:ot.a.container,children:[Object(me.jsx)(yt,{onSubmit:function(n){if(!n.sum||!n.category)return M.toast({html:"\u041e\u0448\u0438\u0431\u043a\u0430! \u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e!"}),!1;var c={id:Date.now(),type:t?"income":"outcome",sum:n.sum,category:n.category,desc:n.desc,date:st()};e(function(e){return{type:_,transactionItem:e}}(c)),e("income"===c.type?g(c.sum):N(c.sum)),e(Object(vt.a)("add-transaction")),M.toast({html:"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430!"})}}),Object(me.jsx)("div",{className:ot.a.date,children:st()})]})},Mt=n(75),Ct=n.n(Mt),At=Object(l.c)(Object(lt.a)({form:"currentBill"}))((function(e){var t=e.handleSubmit,n=e.initialize,a=Object(te.d)(ie);return Object(c.useEffect)((function(){n({newBill:a||"0"})}),[]),Object(me.jsxs)("form",{onSubmit:t,children:[Object(me.jsx)(Ot.a,{type:"number",name:"newBill",component:"input"}),Object(me.jsx)("button",{className:Ct.a.okBtn,type:"submit",children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"})]})})),It=n(436),Lt=n(434),St=(n(426),function(){var e=Object(te.c)(),t=Object(te.d)(ie),n=Object(te.d)(le),c=Object(te.d)(be),a=0!==t||n.length?"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441";return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(It.a,{children:c&&Object(me.jsx)(Lt.a,{classNames:"anim",timeout:400,children:Object(me.jsx)("div",{className:Ct.a.layout,children:Object(me.jsxs)("div",{className:Ct.a.modal,children:[Object(me.jsx)("button",{className:Ct.a.closeBtn,onClick:function(){e(L(!1))},children:"\u2716"}),Object(me.jsx)("h2",{className:Ct.a.header,children:a}),Object(me.jsx)(At,{onSubmit:function(t){e(function(e){return{type:p,bill:e}}(+t.newBill)),M.toast({html:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!"}),e(L(!1))}})]})})})})})}),wt=n(171),Dt=n.n(wt),Tt=n(63),Ft=n.n(Tt),Rt=function(e){var t;return null===(t=e.target)||void 0===t?void 0:t.labels[0].classList.remove(e.target.value?Ft.a.none:Ft.a.set)},kt=function(e){return e.target.labels[0].classList.add(Ft.a.set)},Bt=n(26),Pt=n.n(Bt),Ht=a.a.memo((function(e){var t=e.handleSubmit,n=e.valid,c=a.a.createRef();return Object(me.jsxs)("form",{ref:c,onSubmit:t,className:Pt.a.form,children:[Object(me.jsxs)("div",{className:Pt.a.inputsGroup,children:[Object(me.jsxs)("label",{className:Pt.a.label,children:[Object(me.jsx)("span",{className:Pt.a.span,children:"\u0417\u0430\u0434\u0430\u0447\u0430:"}),Object(me.jsx)(Ot.a,{onFocus:kt,onBlur:Rt,name:"task",component:xt,className:Pt.a.input,validate:gt,autoComplete:"off"})]}),Object(me.jsxs)("label",{className:Pt.a.label,children:[Object(me.jsx)("span",{className:Pt.a.span,children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),Object(me.jsx)(Ot.a,{onFocus:kt,onBlur:Rt,name:"sum",component:xt,type:"number",className:Pt.a.input,validate:gt,autoComplete:"off"})]})]}),Object(me.jsx)("button",{onClick:function(){return n?void c.current.childNodes[0].childNodes.forEach((function(e){return e.classList.remove(Ft.a.set)})):null},className:Pt.a.submit,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})),Gt=Object(lt.a)({form:"add-new-plan"})(Ht),Jt=function(e){return e.budget.plans},Yt=function(e){return e.budget.limits},zt=n(67),Ut=n.n(zt),Wt=function(e){var t=e.id,n=e.name,c=e.completed,a=e.sum,r=Object(te.c)(),s=Object(te.d)(Jt),i=Object(te.d)(ie),o=Math.round(i/a*100),l=c?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e!":o>100?"100%":o+"%";return Object(me.jsxs)("div",{className:Ut.a.item,children:[Object(me.jsxs)("label",{children:[Object(me.jsx)("input",{onChange:function(){r(function(e,t){return{type:z,id:e,status:t}}(t,!c))},type:"checkbox",checked:c}),Object(me.jsx)("span",{className:Ut.a.name,children:n})]}),Object(me.jsx)("div",{title:l,className:Ut.a.progress,children:Object(me.jsx)("div",{className:Ut.a.line,children:Object(me.jsx)("div",{className:Ut.a.subline,style:{width:c?"100%":l}})})}),Object(me.jsx)("div",{className:Ut.a.bill,children:c?"".concat(a,"\u20b4"):"".concat(i," / ").concat(a)}),Object(me.jsx)("button",{onClick:function(){ge.set("plans",s.filter((function(e){return e.id!==t}))),r(function(e){return{type:Y,id:e}}(t)),M.toast({html:"\u041f\u043b\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!"})},className:Ut.a.removeBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},Zt=function(){var e=Object(te.c)(),t=Object(te.d)(Jt);Object(c.useEffect)((function(){t.length&&ge.set("plans",t)}),[t]);var n=t.map((function(e){return Object(me.jsx)(Wt,{id:e.id,name:e.task,sum:+e.sum,completed:e.completed},e.id)}));return Object(me.jsxs)("div",{className:Dt.a.container,children:[n.length?n:Object(me.jsx)("div",{className:Dt.a.noPlans,children:"\u041f\u043b\u0430\u043d\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443."}),Object(me.jsx)(Gt,{onSubmit:function(t){var n;t.task&&t.sum?(e((n={id:Date.now(),task:t.task,sum:t.sum,completed:!1},{type:U,plan:n})),e(Object(vt.a)("add-new-plan")),M.toast({html:"\u041f\u043b\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"})):M.toast({html:"\u041e\u0448\u0438\u0431\u043a\u0430! \u041f\u043b\u0430\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"})}})]})},qt=n(172),Kt=n.n(qt),Vt=n(76),Xt=n.n(Vt),Qt=Object(l.c)(Object(lt.a)({form:"add-new-limit"}))((function(e){var t=e.handleSubmit,n=e.valid,c=a.a.createRef();return Object(me.jsxs)("form",{ref:c,onSubmit:t,className:Pt.a.form,children:[Object(me.jsxs)("div",{className:Pt.a.inputsGroup,children:[Object(me.jsxs)("label",{className:"".concat(Pt.a.label," ").concat(Xt.a.label),children:[Object(me.jsx)("span",{className:Pt.a.span,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"}),Object(me.jsx)(Ot.a,{onFocus:kt,onBlur:Rt,name:"category",component:xt,className:"".concat(Pt.a.input," ").concat(Xt.a.input),validate:gt,autoComplete:"off"})]}),Object(me.jsxs)("label",{className:"".concat(Pt.a.label," ").concat(Xt.a.label),children:[Object(me.jsx)("span",{className:Pt.a.span,children:"\u041b\u0438\u043c\u0438\u0442:"}),Object(me.jsx)(Ot.a,{onFocus:kt,onBlur:Rt,name:"limit",component:xt,type:"number",className:"".concat(Pt.a.input," ").concat(Xt.a.input),validate:gt,autoComplete:"off"})]}),Object(me.jsxs)("label",{className:"".concat(Pt.a.label," ").concat(Xt.a.label),children:[Object(me.jsx)("span",{className:Pt.a.span,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439:"}),Object(me.jsx)(Ot.a,{onFocus:kt,onBlur:Rt,name:"days",component:xt,type:"number",className:"".concat(Pt.a.input," ").concat(Xt.a.input),validate:gt,autoComplete:"off"})]})]}),Object(me.jsx)("button",{onClick:function(){return n?void c.current.childNodes[0].childNodes.forEach((function(e){return e.classList.remove(Ft.a.set)})):null},className:Pt.a.submit,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})),$t=n(239),en=n(41),tn=n.n(en),nn=function(e){var t,n=e.id,c=e.category,a=e.sum,r=e.deadline,s=Object(te.c)(),i=Object(te.d)(Yt),o=Object(te.d)(le).filter((function(e){var t=e.date.split(".").reverse();t[1]=(+t[1]-1).toString();var n=new Date(t.join());return"outcome"===e.type&&e.category===c&&n<Object($t.a)(Date,Object(d.a)(r))}));t=o.length?o.reduce((function(e,t){return e+ +t.sum}),0):0;var l=[(new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()],u=new Date(l[0],l[1],l[2]),j=new Date(r[0],r[1],r[2]),b=Math.ceil((j-u)/864e5);b<=0&&(b=0);var m=Math.round(100*t/+a),O=m>100?"100%":m+"%";return Object(me.jsxs)("div",{className:tn.a.item,children:[Object(me.jsx)("div",{className:tn.a.category,children:c}),Object(me.jsxs)("div",{className:tn.a.days,children:["\u0414\u043d\u0435\u0439 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",b]}),Object(me.jsxs)("div",{title:m<100&&0===b?"\u041b\u0438\u043c\u0438\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d!":O,className:tn.a.progress,children:[m>=100&&Object(me.jsx)("div",{className:tn.a.alert,children:"\u041b\u0438\u043c\u0438\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d!"}),m<100&&0===b&&Object(me.jsx)("div",{className:tn.a.alert,children:"\u041b\u0438\u043c\u0438\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d!"}),Object(me.jsx)("div",{className:tn.a.line,children:Object(me.jsx)("div",{className:"".concat(tn.a.subline," ").concat(m>50?tn.a.orange:""," ").concat(m>85?tn.a.red:""),style:{width:O}})})]}),Object(me.jsxs)("div",{className:tn.a.limit,children:[t," / ",a]}),Object(me.jsx)("button",{onClick:function(){s(function(e){return{type:Z,id:e}}(n)),ge.set("limits",i.filter((function(e){return e.id!==n}))),M.toast({html:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!"})},className:tn.a.removeBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},cn=function(){var e=Object(te.c)(),t=Object(te.d)(Yt),n=t.map((function(e){return Object(me.jsx)(nn,{id:e.id,category:e.category,sum:e.limit,deadline:e.deadline},e.id)}));return Object(c.useEffect)((function(){t.length&&ge.set("limits",t)}),[t]),Object(me.jsxs)("div",{className:Kt.a.container,children:[n.length?n:Object(me.jsx)("div",{className:Kt.a.noLimits,children:"\u041b\u0438\u043c\u0438\u0442\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439."}),Object(me.jsx)(Qt,{onSubmit:function(t){var n;t.category&&t.limit&&t.days?(e((n={id:Date.now(),category:t.category,limit:t.limit,deadline:[(new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+ +t.days]},{type:q,limit:n})),e(Object(vt.a)("add-new-limit")),M.toast({html:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"})):M.toast({html:"\u041e\u0448\u0438\u0431\u043a\u0430! \u041b\u0438\u043c\u0438\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"})}})]})},an=(n(427),function(e){return function(t){var n=t.match;return Object(me.jsx)(Lt.a,{in:null!==n,classNames:"page",timeout:500,unmountOnExit:!0,children:Object(me.jsx)(e,{})})}}),rn=(n(428),function(){return Object(te.d)(ue)?null:Object(me.jsx)("div",{id:"cube-loader",children:Object(me.jsx)("div",{className:"caption",children:Object(me.jsxs)("div",{className:"cube-loader",children:[Object(me.jsx)("div",{className:"cube loader-1"}),Object(me.jsx)("div",{className:"cube loader-2"}),Object(me.jsx)("div",{className:"cube loader-4"}),Object(me.jsx)("div",{className:"cube loader-3"})]})})})}),sn=function(){var e=Object(te.c)(),t=Object(te.d)(ie),n=Object(te.d)(le),a=Object(te.d)(ue);return Object(c.useEffect)((function(){var t=ge.get("history");t&&t.length&&e(function(e){return{type:f,history:e}}(t));var n=ge.get("bill");n&&e(function(e){return{type:x,bill:e}}(n));var c=ge.get("plans");c&&e(function(e){return{type:W,plans:e}}(c));var a=ge.get("limits");a&&e(function(e){return{type:K,limits:e}}(a)),e(function(e){return{type:v,load:e}}(!0))}),[]),Object(c.useEffect)((function(){ge.set("bill",t)}),[t]),Object(c.useEffect)((function(){0!==t||n.length||ge.get("history")||!a?e(L(!1)):e(L(!0))}),[a]),Object(me.jsxs)("div",{className:"app",children:[Object(me.jsx)(rn,{}),Object(me.jsx)(Oe,{}),Object(me.jsx)(xe,{}),Object(me.jsx)(ae.b,{path:"/",children:Object(me.jsx)(ae.a,{to:"/add"})}),Object(me.jsx)(ae.b,{path:"/add",children:an(Et)}),Object(me.jsx)(ae.b,{path:"/statistics/journal",children:an(Me)}),Object(me.jsx)(ae.b,{path:"/statistics/reports",children:an(at)}),Object(me.jsx)(ae.b,{path:"/budget/planning",children:an(Zt)}),Object(me.jsx)(ae.b,{path:"/budget/limits",children:an(cn)}),Object(me.jsx)(St,{})]})};s.a.render(Object(me.jsx)(o.a,{children:Object(me.jsx)(te.a,{store:ee,children:Object(me.jsx)(sn,{})})}),document.getElementById("root")),i()},44:function(e,t,n){e.exports={header:"Header_header__1d4RP",nav:"Header_nav__3GZJh",link:"Header_link__3pubE",active:"Header_active__1Qeeu",bill:"Header_bill__25EuG",cur:"Header_cur__2TP6S",burger:"Header_burger__ul86A",line:"Header_line__1qhOJ",show:"Header_show__2h0Vw",marginHeader:"Header_marginHeader__1kVWW"}},63:function(e,t,n){e.exports={set:"manageFormClasses_set__166Ce"}},66:function(e,t,n){e.exports={btns:"Buttons_btns__18TpQ",btn:"Buttons_btn__1ecI4",plus:"Buttons_plus__1Amv0",minus:"Buttons_minus__2Twv9",active:"Buttons_active__2ITAu"}},67:function(e,t,n){e.exports={item:"PlanItem_item__2s2m1",name:"PlanItem_name__T528z",progress:"PlanItem_progress__1v43V",line:"PlanItem_line__3nvsn",subline:"PlanItem_subline__1sZkO",bill:"PlanItem_bill__3oR-3",removeBtn:"PlanItem_removeBtn__eMsSG"}},75:function(e,t,n){e.exports={layout:"ModalBill_layout__1qcnw",modal:"ModalBill_modal__3qgTe",closeBtn:"ModalBill_closeBtn__7dK_Y",header:"ModalBill_header__1jkTM",okBtn:"ModalBill_okBtn__2MO0Q"}},76:function(e,t,n){e.exports={label:"AddLimitForm_label__16S3s",input:"AddLimitForm_input__3CaBn"}}},[[429,1,2]]]);
//# sourceMappingURL=main.69cb07c6.chunk.js.map